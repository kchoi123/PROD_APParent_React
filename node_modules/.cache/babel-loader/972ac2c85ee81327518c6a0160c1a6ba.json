{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\src\\\\components\\\\myProfile\\\\index.js\";\n//This component is for Edit or View my Profile \nimport React, { Component } from \"react\";\nimport { FormContainer, FormTitle, FormLabel, FormButton, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\nimport KidProfile from \"../kidProfile\";\nimport \"./style.css\";\nvar statesList = [\"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California\", \"Colorado\", \"Connecticut\", \"Delaware\", \"Florida\", \"Georgia\", \"Hawaii\", \"Idaho\", \"Illinois\", \"Indiana\", \"Iowa\", \"Kansas\", \"Kentucky\", \"Louisiana\", \"Maine\", \"Maryland\", \"Massachusetts\", \"Michigan\", \"Minnesota\", \"Mississippi\", \"Missouri\", \"Montana\", \"Nebraska\", \"Nevada\", \"New Hampshire\", \"New Jersey\", \"New Mexico\", \"New York\", \"North Carolina\", \"North Dakota\", \"Ohio\", \"Oklahoma\", \"Oregon\", \"Pennsylvania\", \"Rhode Island\", \"South Carolina\", \"South Dakota\", \"Tennessee\", \"Texas\", \"Utah\", \"Vermont\", \"Virginia\", \"Washington\", \"West Virginia\", \"Wisconsin\", \"Wyoming\"];\n\nvar MyProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyProfile, _Component);\n\n  function MyProfile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyProfile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      sizeDropdownState: 1,\n      disabled: true,\n      kidDisabled: true,\n      userOriginalInfo: _this.props.loggedInParent,\n      userInfo: [{\n        for: \"userName\",\n        label: \"Enter your username\",\n        value: _this.props.userName\n      }, {\n        for: \"city\",\n        //db column\n        label: \"Enter your city\",\n        //message u see \n        value: _this.props.city\n      }, {\n        for: \"state\",\n        label: \"Choose a state\",\n        value: _this.props.state,\n        options: statesList\n      }, {\n        for: \"photoLink\",\n        label: \"Enter a link for your profile picture\",\n        value: _this.props.photoLink\n      }],\n      kids: [] //Holds all the info related to kids \n\n    };\n\n    _this.handleInputChange = function (event) {\n      // const {name, value} = event.target;\n      var value = event.target.value; // const column = event.target.id;\n\n      var key = event.target.getAttribute(\"data-id\");\n\n      var copy = _toConsumableArray(_this.state.userInfo);\n\n      copy[key].value = value;\n\n      _this.setState({\n        userInfo: copy,\n        sizeDropdownState: 1 // [column] : value\n\n      });\n    };\n\n    _this.handleEditButtonClick = function (event) {\n      event.preventDefault(); // console.log(\"EDIT MY PROFILE\");\n\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.handleUpdateButtonClick = function (event) {\n      event.preventDefault(); // console.log(\"SAVE MY PROFILE\");\n\n      _this.setState({\n        disabled: true,\n        sizeDropdownState: 1\n      });\n\n      var userUpdatedData = {\n        userName: _this.state.userInfo[0].value,\n        city: _this.state.userInfo[1].value,\n        state: _this.state.userInfo[2].value,\n        photoLink: _this.state.userInfo[3].value\n      };\n      console.log(\"Parent Details \", userUpdatedData); // update the user profile \n\n      API.updateProfile(userUpdatedData).then(function (res) {\n        // retrieve the info of the logged in parent after updating\n        // display the updated info on the page without reloading the page\n        _this.props.updateParentProfileSection(); // update the userOriginalInfo with the updated user data\n\n\n        _this.setState({\n          userOriginalInfo: userUpdatedData\n        });\n\n        console.log(\"user original info: \", _this.state.userOriginalInfo);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleCancelButtonClick = function (event) {\n      event.preventDefault();\n\n      var copyUserInfo = _toConsumableArray(_this.state.userInfo);\n\n      copyUserInfo[0].value = _this.state.userOriginalInfo.userName;\n      copyUserInfo[1].value = _this.state.userOriginalInfo.city;\n      copyUserInfo[2].value = _this.state.userOriginalInfo.state;\n      copyUserInfo[3].value = _this.state.userOriginalInfo.photoLink;\n\n      _this.setState({\n        userInfo: copyUserInfo,\n        sizeDropdownState: 1,\n        disabled: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MyProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // retrieves all the kids for the logged in parent... \n      API.findAllKidsForAParent().then(function (res) {\n        // console.log(\"Kids for parent\", res.data);\n        _this2.setState({\n          kids: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(FormContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, this.state.disabled ? React.createElement(\"div\", {\n        className: \"row ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"rounded-circle profile-view mr-5 mb-3\",\n        src: this.props.photoLink ? this.props.photoLink : \"http://lorempixel.com/125/125/people/2/cc\",\n        alt: this.props.userName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(FormTitle, {\n        moreClass: \"ml-4\",\n        title: \"View My Profile\",\n        icon: \"fas fa-eye\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        className: \"row ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"rounded-circle profile-view mr-5 mb-3\",\n        src: this.props.photoLink ? this.props.photoLink : \"http://lorempixel.com/125/125/people/2/cc\",\n        alt: this.props.userName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(FormTitle, {\n        moreClass: \"ml-4\",\n        title: \"Update Profile Info\",\n        icon: \"fas fa-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), this.state.userInfo.map(function (user, i) {\n        if (user.for !== \"state\") {\n          return React.createElement(FormLabel, {\n            key: i,\n            data: i,\n            for: user.for,\n            name: user.for,\n            label: user.label,\n            disabled: _this3.state.disabled,\n            value: user.value,\n            handleChange: _this3.handleInputChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167\n            },\n            __self: this\n          });\n        } else {\n          return React.createElement(Dropdown, {\n            key: i,\n            data: i,\n            for: user.for,\n            label: user.label,\n            value: user.value,\n            disabled: _this3.state.disabled,\n            handleChange: _this3.handleInputChange,\n            size: _this3.state.sizeDropdownState,\n            onfocus: function onfocus() {\n              _this3.setState({\n                sizeDropdownState: 5\n              });\n            },\n            onblur: function onblur() {\n              _this3.setState({\n                sizeDropdownState: 1\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180\n            },\n            __self: this\n          }, user.options.map(function (item, j) {\n            return React.createElement(OptionForDropdown, {\n              option: item,\n              value: item,\n              key: j,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 194\n              },\n              __self: this\n            });\n          }));\n        }\n      }), this.state.disabled ? React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(FormButton, {\n        nameButton: \" Edit my profile\",\n        handleButtonClick: this.handleEditButtonClick,\n        moreClass: \"btn-edit mb-5\",\n        icon: \"far fa-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      })) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(FormButton, {\n        nameButton: \" Update my profile\",\n        handleButtonClick: this.handleUpdateButtonClick,\n        moreClass: \"btn-success mr-2 mb-5\",\n        icon: \"far fa-save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }), React.createElement(FormButton, {\n        nameButton: \"Cancel \",\n        moreClass: \"btn-secondary mr-2 mb-5\",\n        handleButtonClick: this.handleCancelButtonClick,\n        disabled: this.state.disabled,\n        icon: \"fas fa-backspace\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })), React.createElement(FormTitle, {\n        title: \" Kid(s) Information\",\n        icon: \"fas fa-info-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }), this.state.kids.length ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, this.state.kids.map(function (kid, id) {\n        return React.createElement(KidProfile, {\n          key: id,\n          name: kid.name,\n          grade: kid.gradeLevel,\n          school: kid.schoolId,\n          kidId: kid.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241\n          },\n          __self: this\n        });\n      })) : React.createElement(\"h3\", {\n        className: \"no-kid-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"No family member found!\")));\n    }\n  }]);\n\n  return MyProfile;\n}(Component);\n\nexport default MyProfile;","map":{"version":3,"sources":["C:\\Users\\kevin\\Desktop\\apparent_test\\heroku\\PROD_APParent_React\\src\\components\\myProfile\\index.js"],"names":["React","Component","FormContainer","FormTitle","FormLabel","FormButton","Dropdown","OptionForDropdown","API","KidProfile","statesList","MyProfile","state","sizeDropdownState","disabled","kidDisabled","userOriginalInfo","props","loggedInParent","userInfo","for","label","value","userName","city","options","photoLink","kids","handleInputChange","event","target","key","getAttribute","copy","setState","handleEditButtonClick","preventDefault","handleUpdateButtonClick","userUpdatedData","console","log","updateProfile","then","res","updateParentProfileSection","catch","err","handleCancelButtonClick","copyUserInfo","findAllKidsForAParent","data","map","user","i","item","j","length","kid","id","name","gradeLevel","schoolId"],"mappings":";;;;;;;AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,SAAnC,EAA8CC,UAA9C,EAA0DC,QAA1D,EAAoEC,iBAApE,QAA6F,SAA7F;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAO,aAAP;AAEA,IAAMC,UAAU,GAAG,CAAC,SAAD,EAAW,QAAX,EAAoB,SAApB,EAA8B,UAA9B,EAAyC,YAAzC,EAAsD,UAAtD,EAAiE,aAAjE,EAA+E,UAA/E,EAA0F,SAA1F,EAAoG,SAApG,EAA8G,QAA9G,EAAuH,OAAvH,EAA+H,UAA/H,EAA0I,SAA1I,EAAoJ,MAApJ,EAA2J,QAA3J,EAAoK,UAApK,EAA+K,WAA/K,EAA2L,OAA3L,EAAmM,UAAnM,EAA8M,eAA9M,EAA8N,UAA9N,EAAyO,WAAzO,EAAqP,aAArP,EAAmQ,UAAnQ,EAA8Q,SAA9Q,EAAwR,UAAxR,EAAmS,QAAnS,EAA4S,eAA5S,EAA4T,YAA5T,EAAyU,YAAzU,EAAsV,UAAtV,EAAiW,gBAAjW,EAAkX,cAAlX,EAAiY,MAAjY,EAAwY,UAAxY,EAAmZ,QAAnZ,EAA4Z,cAA5Z,EAA2a,cAA3a,EAA0b,gBAA1b,EAA2c,cAA3c,EAA0d,WAA1d,EAAse,OAAte,EAA8e,MAA9e,EAAqf,SAArf,EAA+f,UAA/f,EAA0gB,YAA1gB,EAAuhB,eAAvhB,EAAuiB,WAAviB,EAAmjB,SAAnjB,CAAnB;;IAEMC,S;;;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACJC,MAAAA,iBAAiB,EAAE,CADf;AAEJC,MAAAA,QAAQ,EAAE,IAFN;AAGJC,MAAAA,WAAW,EAAE,IAHT;AAIJC,MAAAA,gBAAgB,EAAE,MAAKC,KAAL,CAAWC,cAJzB;AAKJC,MAAAA,QAAQ,EACJ,CACI;AACIC,QAAAA,GAAG,EAAE,UADT;AAEIC,QAAAA,KAAK,EAAE,qBAFX;AAGIC,QAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWM;AAHtB,OADJ,EAMI;AACIH,QAAAA,GAAG,EAAE,MADT;AACiB;AACbC,QAAAA,KAAK,EAAE,iBAFX;AAE8B;AAC1BC,QAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWO;AAHtB,OANJ,EAWI;AACIJ,QAAAA,GAAG,EAAE,OADT;AAEIC,QAAAA,KAAK,EAAE,gBAFX;AAGIC,QAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWL,KAHtB;AAIIa,QAAAA,OAAO,EAAEf;AAJb,OAXJ,EAiBI;AACIU,QAAAA,GAAG,EAAE,WADT;AAEIC,QAAAA,KAAK,EAAE,uCAFX;AAGIC,QAAAA,KAAK,EAAE,MAAKL,KAAL,CAAWS;AAHtB,OAjBJ,CANA;AA6BJC,MAAAA,IAAI,EAAE,EA7BF,CA6BM;;AA7BN,K;;UAgCRC,iB,GAAoB,UAAAC,KAAK,EAAI;AACzB;AACA,UAAMP,KAAK,GAAGO,KAAK,CAACC,MAAN,CAAaR,KAA3B,CAFyB,CAGzB;;AACA,UAAMS,GAAG,GAAGF,KAAK,CAACC,MAAN,CAAaE,YAAb,CAA0B,SAA1B,CAAZ;;AACA,UAAIC,IAAI,sBAAO,MAAKrB,KAAL,CAAWO,QAAlB,CAAR;;AACAc,MAAAA,IAAI,CAACF,GAAD,CAAJ,CAAUT,KAAV,GAAkBA,KAAlB;;AACA,YAAKY,QAAL,CAAc;AACVf,QAAAA,QAAQ,EAAEc,IADA;AAEVpB,QAAAA,iBAAiB,EAAE,CAFT,CAGV;;AAHU,OAAd;AAMH,K;;UAGDsB,qB,GAAwB,UAAAN,KAAK,EAAI;AAC7BA,MAAAA,KAAK,CAACO,cAAN,GAD6B,CAE7B;;AACA,YAAKF,QAAL,CAAc;AACVpB,QAAAA,QAAQ,EAAE;AADA,OAAd;AAGH,K;;UAGDuB,uB,GAA0B,UAAAR,KAAK,EAAI;AAC/BA,MAAAA,KAAK,CAACO,cAAN,GAD+B,CAE/B;;AACA,YAAKF,QAAL,CAAc;AACVpB,QAAAA,QAAQ,EAAE,IADA;AAEVD,QAAAA,iBAAiB,EAAE;AAFT,OAAd;;AAKA,UAAMyB,eAAe,GAAG;AACpBf,QAAAA,QAAQ,EAAE,MAAKX,KAAL,CAAWO,QAAX,CAAoB,CAApB,EAAuBG,KADb;AAEpBE,QAAAA,IAAI,EAAE,MAAKZ,KAAL,CAAWO,QAAX,CAAoB,CAApB,EAAuBG,KAFT;AAGpBV,QAAAA,KAAK,EAAE,MAAKA,KAAL,CAAWO,QAAX,CAAoB,CAApB,EAAuBG,KAHV;AAIpBI,QAAAA,SAAS,EAAE,MAAKd,KAAL,CAAWO,QAAX,CAAoB,CAApB,EAAuBG;AAJd,OAAxB;AAOAiB,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,eAA/B,EAf+B,CAiB/B;;AACA9B,MAAAA,GAAG,CAACiC,aAAJ,CAAkBH,eAAlB,EACKI,IADL,CACU,UAAAC,GAAG,EAAI;AACT;AACA;AACA,cAAK1B,KAAL,CAAW2B,0BAAX,GAHS,CAIT;;;AACA,cAAKV,QAAL,CAAc;AACVlB,UAAAA,gBAAgB,EAAEsB;AADR,SAAd;;AAGAC,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoC,MAAK5B,KAAL,CAAWI,gBAA/C;AACH,OAVL,EAWK6B,KAXL,CAWW,UAAAC,GAAG;AAAA,eAAIP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAAJ;AAAA,OAXd;AAYH,K;;UAGDC,uB,GAA0B,UAAAlB,KAAK,EAAI;AAC/BA,MAAAA,KAAK,CAACO,cAAN;;AAEA,UAAIY,YAAY,sBAAO,MAAKpC,KAAL,CAAWO,QAAlB,CAAhB;;AACA6B,MAAAA,YAAY,CAAC,CAAD,CAAZ,CAAgB1B,KAAhB,GAAwB,MAAKV,KAAL,CAAWI,gBAAX,CAA4BO,QAApD;AACAyB,MAAAA,YAAY,CAAC,CAAD,CAAZ,CAAgB1B,KAAhB,GAAwB,MAAKV,KAAL,CAAWI,gBAAX,CAA4BQ,IAApD;AACAwB,MAAAA,YAAY,CAAC,CAAD,CAAZ,CAAgB1B,KAAhB,GAAwB,MAAKV,KAAL,CAAWI,gBAAX,CAA4BJ,KAApD;AACAoC,MAAAA,YAAY,CAAC,CAAD,CAAZ,CAAgB1B,KAAhB,GAAwB,MAAKV,KAAL,CAAWI,gBAAX,CAA4BU,SAApD;;AAEA,YAAKQ,QAAL,CAAc;AACVf,QAAAA,QAAQ,EAAE6B,YADA;AAEVnC,QAAAA,iBAAiB,EAAE,CAFT;AAGVC,QAAAA,QAAQ,EAAE;AAHA,OAAd;AAKH,K;;;;;;;wCAEmB;AAAA;;AAChB;AACAN,MAAAA,GAAG,CAACyC,qBAAJ,GACKP,IADL,CAEQ,UAAAC,GAAG,EAAI;AACH;AACA,QAAA,MAAI,CAACT,QAAL,CAAc;AACVP,UAAAA,IAAI,EAAEgB,GAAG,CAACO;AADA,SAAd;AAGH,OAPT,EASKL,KATL,CASW,UAAAC,GAAG;AAAA,eAAIP,OAAO,CAACC,GAAR,CAAYM,GAAZ,CAAJ;AAAA,OATd;AAWH;;;6BAEQ;AAAA;;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGK,KAAKlC,KAAL,CAAWE,QAAX,GACG;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAuD,QAAA,GAAG,EAAE,KAAKG,KAAL,CAAWS,SAAX,GAAwB,KAAKT,KAAL,CAAWS,SAAnC,GAAiD,2CAA7G;AAA2J,QAAA,GAAG,EAAE,KAAKT,KAAL,CAAWM,QAA3K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,SAAD;AACI,QAAA,SAAS,EAAC,MADd;AAEI,QAAA,KAAK,EAAC,iBAFV;AAGI,QAAA,IAAI,EAAC,YAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CADH,GAWG;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAuD,QAAA,GAAG,EAAE,KAAKN,KAAL,CAAWS,SAAX,GAAwB,KAAKT,KAAL,CAAWS,SAAnC,GAAiD,2CAA7G;AAA2J,QAAA,GAAG,EAAE,KAAKT,KAAL,CAAWM,QAA3K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,SAAD;AACI,QAAA,SAAS,EAAC,MADd;AAEI,QAAA,KAAK,EAAC,qBAFV;AAGI,QAAA,IAAI,EAAC,aAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,CAdR,EA2BK,KAAKX,KAAL,CAAWO,QAAX,CAAoBgC,GAApB,CAAwB,UAACC,IAAD,EAAOC,CAAP,EAAa;AAClC,YAAID,IAAI,CAAChC,GAAL,KAAa,OAAjB,EAA0B;AAEtB,iBACI,oBAAC,SAAD;AACI,YAAA,GAAG,EAAEiC,CADT;AAEI,YAAA,IAAI,EAAEA,CAFV;AAGI,YAAA,GAAG,EAAED,IAAI,CAAChC,GAHd;AAII,YAAA,IAAI,EAAEgC,IAAI,CAAChC,GAJf;AAKI,YAAA,KAAK,EAAEgC,IAAI,CAAC/B,KALhB;AAMI,YAAA,QAAQ,EAAE,MAAI,CAACT,KAAL,CAAWE,QANzB;AAOI,YAAA,KAAK,EAAEsC,IAAI,CAAC9B,KAPhB;AAQI,YAAA,YAAY,EAAE,MAAI,CAACM,iBARvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAYH,SAdD,MAcO;AACH,iBACI,oBAAC,QAAD;AACI,YAAA,GAAG,EAAEyB,CADT;AAEI,YAAA,IAAI,EAAEA,CAFV;AAGI,YAAA,GAAG,EAAED,IAAI,CAAChC,GAHd;AAII,YAAA,KAAK,EAAEgC,IAAI,CAAC/B,KAJhB;AAKI,YAAA,KAAK,EAAE+B,IAAI,CAAC9B,KALhB;AAMI,YAAA,QAAQ,EAAE,MAAI,CAACV,KAAL,CAAWE,QANzB;AAOI,YAAA,YAAY,EAAE,MAAI,CAACc,iBAPvB;AAQI,YAAA,IAAI,EAAE,MAAI,CAAChB,KAAL,CAAWC,iBARrB;AASI,YAAA,OAAO,EAAE,mBAAI;AAAC,cAAA,MAAI,CAACqB,QAAL,CAAc;AAACrB,gBAAAA,iBAAiB,EAAE;AAApB,eAAd;AAAsC,aATxD;AAUI,YAAA,MAAM,EAAE,kBAAI;AAAC,cAAA,MAAI,CAACqB,QAAL,CAAc;AAACrB,gBAAAA,iBAAiB,EAAE;AAApB,eAAd;AAAsC,aAVvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAYKuC,IAAI,CAAC3B,OAAL,CAAa0B,GAAb,CAAiB,UAACG,IAAD,EAAOC,CAAP,EAAa;AAC3B,mBACI,oBAAC,iBAAD;AACI,cAAA,MAAM,EAAED,IADZ;AAEI,cAAA,KAAK,EAAEA,IAFX;AAGI,cAAA,GAAG,EAAEC,CAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAOH,WARA,CAZL,CADJ;AAwBH;AACJ,OAzCA,CA3BL,EAwEK,KAAK3C,KAAL,CAAWE,QAAX,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAQ,oBAAC,UAAD;AACJ,QAAA,UAAU,EAAC,kBADP;AAEJ,QAAA,iBAAiB,EAAE,KAAKqB,qBAFpB;AAGJ,QAAA,SAAS,EAAC,eAHN;AAIJ,QAAA,IAAI,EAAC,aAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR,CADH,GAQG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AACI,QAAA,UAAU,EAAC,oBADf;AAEI,QAAA,iBAAiB,EAAE,KAAKE,uBAF5B;AAGI,QAAA,SAAS,EAAC,uBAHd;AAII,QAAA,IAAI,EAAC,aAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAOI,oBAAC,UAAD;AACI,QAAA,UAAU,EAAC,SADf;AAEI,QAAA,SAAS,EAAC,yBAFd;AAGI,QAAA,iBAAiB,EAAE,KAAKU,uBAH5B;AAII,QAAA,QAAQ,EAAE,KAAKnC,KAAL,CAAWE,QAJzB;AAKI,QAAA,IAAI,EAAC,kBALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,CAhFR,EAiGI,oBAAC,SAAD;AACI,QAAA,KAAK,EAAC,qBADV;AAEI,QAAA,IAAI,EAAC,oBAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjGJ,EAqGK,KAAKF,KAAL,CAAWe,IAAX,CAAgB6B,MAAhB,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK5C,KAAL,CAAWe,IAAX,CAAgBwB,GAAhB,CAAoB,UAACM,GAAD,EAAMC,EAAN,EAAa;AAC9B,eACI,oBAAC,UAAD;AACI,UAAA,GAAG,EAAEA,EADT;AAEI,UAAA,IAAI,EAAED,GAAG,CAACE,IAFd;AAGI,UAAA,KAAK,EAAEF,GAAG,CAACG,UAHf;AAII,UAAA,MAAM,EAAEH,GAAG,CAACI,QAJhB;AAKI,UAAA,KAAK,EAAEJ,GAAG,CAACC,EALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AASH,OAVA,CADL,CADH,GAeG;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCApHR,CADJ,CADJ;AAiIH;;;;EA7PmBzD,S;;AAgQxB,eAAeU,SAAf","sourcesContent":["//This component is for Edit or View my Profile \nimport React, { Component } from \"react\";\nimport { FormContainer, FormTitle, FormLabel, FormButton, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\nimport KidProfile from \"../kidProfile\";\nimport \"./style.css\";\n\nconst statesList = [\"Alabama\",\"Alaska\",\"Arizona\",\"Arkansas\",\"California\",\"Colorado\",\"Connecticut\",\"Delaware\",\"Florida\",\"Georgia\",\"Hawaii\",\"Idaho\",\"Illinois\",\"Indiana\",\"Iowa\",\"Kansas\",\"Kentucky\",\"Louisiana\",\"Maine\",\"Maryland\",\"Massachusetts\",\"Michigan\",\"Minnesota\",\"Mississippi\",\"Missouri\",\"Montana\",\"Nebraska\",\"Nevada\",\"New Hampshire\",\"New Jersey\",\"New Mexico\",\"New York\",\"North Carolina\",\"North Dakota\",\"Ohio\",\"Oklahoma\",\"Oregon\",\"Pennsylvania\",\"Rhode Island\",\"South Carolina\",\"South Dakota\",\"Tennessee\",\"Texas\",\"Utah\",\"Vermont\",\"Virginia\",\"Washington\",\"West Virginia\",\"Wisconsin\",\"Wyoming\"];\n\nclass MyProfile extends Component {\n\n    state = {\n        sizeDropdownState: 1,\n        disabled: true,\n        kidDisabled: true,\n        userOriginalInfo: this.props.loggedInParent,\n        userInfo:\n            [\n                {\n                    for: \"userName\",\n                    label: \"Enter your username\",\n                    value: this.props.userName,\n                },\n                {\n                    for: \"city\", //db column\n                    label: \"Enter your city\", //message u see \n                    value: this.props.city\n                },\n                {\n                    for: \"state\",\n                    label: \"Choose a state\",\n                    value: this.props.state,\n                    options: statesList\n                },\n                {\n                    for: \"photoLink\",\n                    label: \"Enter a link for your profile picture\",\n                    value: this.props.photoLink\n                }\n            ], \n        kids: [], //Holds all the info related to kids \n    };\n\n    handleInputChange = event => {\n        // const {name, value} = event.target;\n        const value = event.target.value;\n        // const column = event.target.id;\n        const key = event.target.getAttribute(\"data-id\")\n        let copy = [...this.state.userInfo]\n        copy[key].value = value\n        this.setState({\n            userInfo: copy,\n            sizeDropdownState: 1\n            // [column] : value\n        })\n\n    }\n\n    // Enable the User to update his profile \n    handleEditButtonClick = event => {\n        event.preventDefault();\n        // console.log(\"EDIT MY PROFILE\");\n        this.setState({\n            disabled: false\n        })\n    }\n\n    // Save the changes made to the profile and update the page without reloading\n    handleUpdateButtonClick = event => {\n        event.preventDefault();\n        // console.log(\"SAVE MY PROFILE\");\n        this.setState({\n            disabled: true,\n            sizeDropdownState: 1\n        })\n\n        const userUpdatedData = {\n            userName: this.state.userInfo[0].value,\n            city: this.state.userInfo[1].value,\n            state: this.state.userInfo[2].value,\n            photoLink: this.state.userInfo[3].value\n        }\n\n        console.log(\"Parent Details \", userUpdatedData);\n\n        // update the user profile \n        API.updateProfile(userUpdatedData)\n            .then(res => {\n                // retrieve the info of the logged in parent after updating\n                // display the updated info on the page without reloading the page\n                this.props.updateParentProfileSection();\n                // update the userOriginalInfo with the updated user data\n                this.setState({\n                    userOriginalInfo: userUpdatedData\n                })\n                console.log(\"user original info: \", this.state.userOriginalInfo)\n            })\n            .catch(err => console.log(err));\n    }\n\n    // Repopulate the input fields with the previous parent data\n    handleCancelButtonClick = event => {\n        event.preventDefault();\n\n        let copyUserInfo = [...this.state.userInfo];\n        copyUserInfo[0].value = this.state.userOriginalInfo.userName;\n        copyUserInfo[1].value = this.state.userOriginalInfo.city;\n        copyUserInfo[2].value = this.state.userOriginalInfo.state;\n        copyUserInfo[3].value = this.state.userOriginalInfo.photoLink;\n\n        this.setState({\n            userInfo: copyUserInfo,\n            sizeDropdownState: 1,\n            disabled: true\n        });\n    }\n\n    componentDidMount() {\n        // retrieves all the kids for the logged in parent... \n        API.findAllKidsForAParent()\n            .then(\n                res => {\n                    // console.log(\"Kids for parent\", res.data);\n                    this.setState({\n                        kids: res.data\n                    })\n                }\n            )\n            .catch(err => console.log(err));\n\n    }\n\n    render() {\n        return (\n            <div>\n                <FormContainer>\n                    {/* <FormAction \n                    route={props.route} > */}\n                    {this.state.disabled ?\n                        <div className=\"row ml-3\">\n                            {/* Image of the loggeed in user */}\n                            <img className=\"rounded-circle profile-view mr-5 mb-3\" src={this.props.photoLink ? (this.props.photoLink) : (\"http://lorempixel.com/125/125/people/2/cc\")} alt={this.props.userName} />\n                            <FormTitle\n                                moreClass=\"ml-4\"\n                                title=\"View My Profile\"\n                                icon=\"fas fa-eye\"\n                            />\n                        </div>\n                        :\n                        <div className=\"row ml-3\">\n                            {/* Image of the loggeed in user */}\n                            <img className=\"rounded-circle profile-view mr-5 mb-3\" src={this.props.photoLink ? (this.props.photoLink) : (\"http://lorempixel.com/125/125/people/2/cc\")} alt={this.props.userName} />\n                            <FormTitle\n                                moreClass=\"ml-4\"\n                                title=\"Update Profile Info\"\n                                icon=\"fas fa-edit\"\n                            />\n                        </div>\n                    }\n                   \n                    {/* Rendering Form labels using the userInfo object values */}\n\n                    {this.state.userInfo.map((user, i) => {\n                        if (user.for !== \"state\") {\n\n                            return (\n                                <FormLabel\n                                    key={i}\n                                    data={i}\n                                    for={user.for}\n                                    name={user.for}\n                                    label={user.label}\n                                    disabled={this.state.disabled}\n                                    value={user.value}\n                                    handleChange={this.handleInputChange}\n                                />\n                            );\n                        } else {\n                            return (\n                                <Dropdown\n                                    key={i}\n                                    data={i}\n                                    for={user.for}\n                                    label={user.label}\n                                    value={user.value}\n                                    disabled={this.state.disabled}\n                                    handleChange={this.handleInputChange}\n                                    size={this.state.sizeDropdownState}\n                                    onfocus={()=>{this.setState({sizeDropdownState: 5})}}\n                                    onblur={()=>{this.setState({sizeDropdownState: 1})}}\n                                >\n                                    {user.options.map((item, j) => {\n                                        return (\n                                            <OptionForDropdown\n                                                option={item}\n                                                value={item}\n                                                key={j}\n                                            />\n                                        )\n                                    })}\n                                </Dropdown>\n                            )\n                        }\n                    }\n                    )}\n\n                    {/* Conditional hide & show the buttons */}\n                    {this.state.disabled ?\n                        <center><FormButton\n                            nameButton=\" Edit my profile\"\n                            handleButtonClick={this.handleEditButtonClick}\n                            moreClass=\"btn-edit mb-5\"\n                            icon=\"far fa-edit\"\n                        /></center>\n                        :\n                        <div>\n                            <FormButton\n                                nameButton=\" Update my profile\"\n                                handleButtonClick={this.handleUpdateButtonClick}\n                                moreClass=\"btn-success mr-2 mb-5\"\n                                icon=\"far fa-save\"\n                            />\n                            <FormButton\n                                nameButton=\"Cancel \"\n                                moreClass=\"btn-secondary mr-2 mb-5\"\n                                handleButtonClick={this.handleCancelButtonClick}\n                                disabled={this.state.disabled}\n                                icon=\"fas fa-backspace\"\n                            />\n                        </div>\n                    }\n                    {/* Loop through all the kids for the logged in Parent */}\n                    <FormTitle\n                        title=\" Kid(s) Information\"\n                        icon=\"fas fa-info-circle\"\n                    />\n                    {this.state.kids.length ? (\n                        <div>\n                            {this.state.kids.map((kid, id) => {\n                                return (\n                                    <KidProfile\n                                        key={id}\n                                        name={kid.name}\n                                        grade={kid.gradeLevel}\n                                        school={kid.schoolId}\n                                        kidId={kid.id}\n                                    />\n                                )\n                            })}\n                        </div>\n                    ) : (\n                        <h3 className=\"no-kid-message\">No family member found!\n                           {/* <FormButton \n                                nameButton =\"Add New Kid Info\"\n                                handleButtonClick={this.handleAddNewMember}\n                            /> */}\n                        </h3>\n                    )}\n                    {/* </FormAction> */}\n                </FormContainer>\n            </div>\n        );\n    }\n}\n\nexport default MyProfile;"]},"metadata":{},"sourceType":"module"}