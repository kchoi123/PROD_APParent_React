{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\src\\\\components\\\\drop-zone\\\\index.js\";\nimport React, { Component } from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\nimport \"./style.css\";\nvar CLOUDINARY_UPLOAD_PRESET = 'hp8e1mzk';\nvar CLOUDINARY_UPLOAD_URL = \"https://api.cloudinary.com/v1_1/dl6ycbftz/image/upload\";\n\nvar MyDropzone =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyDropzone, _Component);\n\n  function MyDropzone() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyDropzone);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyDropzone)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      uploadedFileCloudinaryUrl: ''\n    };\n\n    _this.onImageDrop = function (files) {\n      _this.setState({\n        uploadedFile: files[0]\n      });\n\n      _this.handleImageUpload(files[0]);\n\n      console.log(_this.props);\n    };\n\n    _this.handleImageUpload = function (file) {\n      var upload = request.post(CLOUDINARY_UPLOAD_URL).field('upload_preset', CLOUDINARY_UPLOAD_PRESET).field('file', file);\n      upload.end(function (err, response) {\n        if (err) {\n          console.error(err);\n        }\n\n        if (response.body.secure_url !== '') {\n          _this.setState({\n            uploadedFileCloudinaryUrl: response.body.secure_url\n          });\n\n          _this.props.helper(_this.state.uploadedFileCloudinaryUrl);\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MyDropzone, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Dropzone, {\n        onDrop: this.onImageDrop,\n        accept: \"image/*\",\n        multiple: false,\n        onChange: this.props.change,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, function (_ref) {\n        var getRootProps = _ref.getRootProps,\n            getInputProps = _ref.getInputProps;\n        return React.createElement(\"div\", Object.assign({\n          className: \"drop-container\"\n        }, getRootProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        })), React.createElement(\"p\", {\n          class: \"dropzone-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \"Drag an image here or click here to upload\"), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, _this2.state.uploadedFileCloudinaryUrl === '' ? null : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Preview of: \", _this2.state.uploadedFile.name), React.createElement(\"img\", {\n          className: \"pic-preview\",\n          src: _this2.state.uploadedFileCloudinaryUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }))));\n      });\n    }\n  }]);\n\n  return MyDropzone;\n}(Component);\n\nexport default MyDropzone;","map":{"version":3,"sources":["C:\\Users\\kevin\\Desktop\\apparent_test\\heroku\\PROD_APParent_React\\src\\components\\drop-zone\\index.js"],"names":["React","Component","Dropzone","request","CLOUDINARY_UPLOAD_PRESET","CLOUDINARY_UPLOAD_URL","MyDropzone","state","uploadedFileCloudinaryUrl","onImageDrop","files","setState","uploadedFile","handleImageUpload","console","log","props","file","upload","post","field","end","err","response","error","body","secure_url","helper","change","getRootProps","getInputProps","name"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAO,aAAP;AACA,IAAMC,wBAAwB,GAAG,UAAjC;AACA,IAAMC,qBAAqB,GAAG,wDAA9B;;IAGMC,U;;;;;;;;;;;;;;;;;UAEJC,K,GACE;AACEC,MAAAA,yBAAyB,EAAE;AAD7B,K;;UAIFC,W,GAAc,UAACC,KAAD,EAAW;AACvB,YAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEF,KAAK,CAAC,CAAD;AADP,OAAd;;AAIA,YAAKG,iBAAL,CAAuBH,KAAK,CAAC,CAAD,CAA5B;;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAjB;AACD,K;;UACDH,iB,GAAoB,UAACI,IAAD,EAAU;AAC5B,UAAIC,MAAM,GAAGf,OAAO,CAACgB,IAAR,CAAad,qBAAb,EACVe,KADU,CACJ,eADI,EACahB,wBADb,EAEVgB,KAFU,CAEJ,MAFI,EAEIH,IAFJ,CAAb;AAIAC,MAAAA,MAAM,CAACG,GAAP,CAAW,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAC5B,YAAID,GAAJ,EAAS;AACPR,UAAAA,OAAO,CAACU,KAAR,CAAcF,GAAd;AACD;;AAED,YAAIC,QAAQ,CAACE,IAAT,CAAcC,UAAd,KAA6B,EAAjC,EAAqC;AACnC,gBAAKf,QAAL,CAAc;AACZH,YAAAA,yBAAyB,EAAEe,QAAQ,CAACE,IAAT,CAAcC;AAD7B,WAAd;;AAGA,gBAAKV,KAAL,CAAWW,MAAX,CAAkB,MAAKpB,KAAL,CAAWC,yBAA7B;AAED;AACF,OAZD;AAaD,K;;;;;;;6BAEQ;AAAA;;AAEP,aACE,oBAAC,QAAD;AACE,QAAA,MAAM,EAAE,KAAKC,WADf;AAEE,QAAA,MAAM,EAAC,SAFT;AAGE,QAAA,QAAQ,EAAE,KAHZ;AAIE,QAAA,QAAQ,EAAE,KAAKO,KAAL,CAAWY,MAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMG,gBAAqC;AAAA,YAAlCC,YAAkC,QAAlCA,YAAkC;AAAA,YAApBC,aAAoB,QAApBA,aAAoB;AACpC,eACE;AACE,UAAA,SAAS,EAAC;AADZ,WAEMD,YAAY,EAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAIE,+CAAWC,aAAa,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJF,EAMI;AAAG,UAAA,KAAK,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDANJ,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,MAAI,CAACvB,KAAL,CAAWC,yBAAX,KAAyC,EAAzC,GAA8C,IAA9C,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAgB,MAAI,CAACD,KAAL,CAAWK,YAAX,CAAwBmB,IAAxC,CADF,EAEE;AAAK,UAAA,SAAS,EAAC,aAAf;AAA6B,UAAA,GAAG,EAAE,MAAI,CAACxB,KAAL,CAAWC,yBAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CAFJ,CARF,CADF;AAkBD,OAzBH,CADF;AA4BD;;;;EAjEsBP,S;;AAoEzB,eAAeK,UAAf","sourcesContent":["import React, { Component } from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\nimport \"./style.css\"\nconst CLOUDINARY_UPLOAD_PRESET = 'hp8e1mzk';\nconst CLOUDINARY_UPLOAD_URL = \"https://api.cloudinary.com/v1_1/dl6ycbftz/image/upload\";\n\n\nclass MyDropzone extends Component {\n\n  state =\n    {\n      uploadedFileCloudinaryUrl: ''\n    };\n\n  onImageDrop = (files) => {\n    this.setState({\n      uploadedFile: files[0]\n    });\n\n    this.handleImageUpload(files[0]);\n    console.log(this.props)\n  }\n  handleImageUpload = (file) => {\n    let upload = request.post(CLOUDINARY_UPLOAD_URL)\n      .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n      .field('file', file);\n\n    upload.end((err, response) => {\n      if (err) {\n        console.error(err);\n      }\n\n      if (response.body.secure_url !== '') {\n        this.setState({\n          uploadedFileCloudinaryUrl: response.body.secure_url\n        });\n        this.props.helper(this.state.uploadedFileCloudinaryUrl)\n        \n      }\n    });\n  }\n\n  render() {\n\n    return (\n      <Dropzone\n        onDrop={this.onImageDrop}\n        accept=\"image/*\"\n        multiple={false}\n        onChange={this.props.change}\n        >\n        {({ getRootProps, getInputProps }) => {\n          return (\n            <div\n              className=\"drop-container\"\n              {...getRootProps()}\n            >\n              <input {...getInputProps()} />\n              {\n                <p class=\"dropzone-text\">Drag an image here or click here to upload</p>\n              }\n              <div>\n                {this.state.uploadedFileCloudinaryUrl === '' ? null :\n                  <div>\n                    <p>Preview of: {this.state.uploadedFile.name}</p>\n                    <img className=\"pic-preview\" src={this.state.uploadedFileCloudinaryUrl} />\n                  </div>}\n              </div>\n            </div>\n          )\n        }}\n      </Dropzone>)\n  }\n}\n\nexport default MyDropzone;"]},"metadata":{},"sourceType":"module"}