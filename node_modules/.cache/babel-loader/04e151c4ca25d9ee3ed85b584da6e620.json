{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\src\\\\components\\\\loginForm\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { FormAction, FormLabel, FormButton, FormMessage } from \"../form\";\nimport API from \"../../utils/API\";\nimport ErrorMessage from \"../errorMessage\";\nimport \"./style.css\";\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginForm, _Component);\n\n  function LoginForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userInfo: [{\n        for: \"email\",\n        label: \"Enter your email\",\n        value: \"\"\n      }, {\n        for: \"password\",\n        label: \"Enter your password\",\n        value: \"\"\n      }],\n      formMessage: {\n        message: \"No Account?\",\n        action: \"Register\",\n        alt: \"signup\"\n      },\n      hasError: false\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var key = event.target.getAttribute(\"data-id\");\n\n      var copy = _toConsumableArray(_this.state.userInfo);\n\n      copy[key].value = value;\n\n      _this.setState({\n        userInfo: copy\n      });\n    };\n\n    _this.handleSubmitButtonClick = function (event) {\n      event.preventDefault();\n\n      if (_this.state.userInfo[0].value && _this.state.userInfo[1].value) {\n        API.login({\n          email: _this.state.userInfo[0].value,\n          password: _this.state.userInfo[1].value\n        }).then(function (res) {\n          if (res.data.status === \"success\") {\n            window.location.reload();\n          } else if (res.data.status === \"unsuccessful\") {\n            _this.setState({\n              hasError: true\n            });\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      } else {\n        _this.setState({\n          hasError: true\n        });\n      }\n    };\n\n    _this.handleCloseButtonClick = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        hasError: false\n      });\n    };\n\n    _this.resetError = function () {\n      if (_this.state.hasError) {\n        setTimeout(function () {\n          _this.setState({\n            hasError: false\n          });\n        }, 2000);\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      this.resetError();\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.state.hasError ? React.createElement(ErrorMessage, {\n        message: \"Invalid email/password\",\n        handleCloseButtonClick: this.handleCloseButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }) : \"\", React.createElement(FormAction, {\n        submit: this.handleSubmitButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, this.state.userInfo.map(function (info, i) {\n        return React.createElement(FormLabel, {\n          key: i,\n          data: i,\n          for: info.for,\n          label: info.label,\n          value: info.value,\n          handleChange: _this2.handleInputChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        });\n      }), React.createElement(FormMessage, {\n        message: this.state.formMessage.message,\n        path: this.props.path,\n        action: this.state.formMessage.action,\n        id: this.state.formMessage.alt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), React.createElement(FormButton, {\n        nameButton: \"Submit\",\n        moreClass: \"login-button\",\n        icon: \"fas fa-sign-in-alt\",\n        handleButtonClick: this.handleSubmitButtonClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return LoginForm;\n}(Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["C:\\Users\\kevin\\Desktop\\apparent_test\\heroku\\PROD_APParent_React\\src\\components\\loginForm\\index.js"],"names":["React","Component","FormAction","FormLabel","FormButton","FormMessage","API","ErrorMessage","LoginForm","state","userInfo","for","label","value","formMessage","message","action","alt","hasError","handleInputChange","event","target","key","getAttribute","copy","setState","handleSubmitButtonClick","preventDefault","login","email","password","then","res","data","status","window","location","reload","catch","err","console","log","handleCloseButtonClick","resetError","setTimeout","map","info","i","props","path"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { FormAction, FormLabel, FormButton, FormMessage } from \"../form\";\nimport API from \"../../utils/API\";\nimport ErrorMessage from \"../errorMessage\"\nimport \"./style.css\"\n\nclass LoginForm extends Component {\n    state = {\n        userInfo:\n            [\n                {\n                    for: \"email\",\n                    label: \"Enter your email\",\n                    value: \"\"\n                },\n                {\n                    for: \"password\",\n                    label: \"Enter your password\",\n                    value: \"\",\n                }\n            ],\n        formMessage:\n        {\n            message: \"No Account?\",\n            action: \"Register\",\n            alt: \"signup\"\n        },\n        hasError: false\n    }\n\n    handleInputChange = event => {\n        const value = event.target.value;\n        const key = event.target.getAttribute(\"data-id\")\n        let copy = [...this.state.userInfo]\n        copy[key].value = value\n        this.setState({\n            userInfo: copy\n        })\n    }\n\n\n\n    handleSubmitButtonClick = event => {\n        event.preventDefault();\n        if (this.state.userInfo[0].value && this.state.userInfo[1].value) {\n            API.login(\n                {\n                    email: this.state.userInfo[0].value,\n                    password: this.state.userInfo[1].value\n                }\n            )\n                .then(res => {\n                    if (res.data.status === \"success\") {\n                        window.location.reload()\n                    }\n                    else if (res.data.status === \"unsuccessful\") {\n                        this.setState(\n                            { hasError: true }\n                        )\n                    }\n                }\n\n                )\n                .catch(err => console.log(err))\n        }\n        else {\n            this.setState(\n                { hasError: true }\n            )\n        }\n    }\n\n    handleCloseButtonClick = event => {\n        event.preventDefault();\n\n        this.setState({\n            hasError: false\n        })\n    }\n\n    resetError = () => {\n        if (this.state.hasError) {\n            setTimeout(() => {\n                this.setState({\n                    hasError: false\n                })\n            }, 2000)\n        }\n    }\n\n\n    render() {\n        this.resetError()\n        return (\n            <div>\n                {(this.state.hasError) ?\n                    (<ErrorMessage\n                        message=\"Invalid email/password\"\n                        handleCloseButtonClick={this.handleCloseButtonClick}\n                    />) :\n                    (\"\")\n                }\n                <FormAction\n                    submit={this.handleSubmitButtonClick}\n                >\n                    {this.state.userInfo.map((info, i) => {\n\n                        return (\n                            <FormLabel\n                                key={i}\n                                data={i}\n                                for={info.for}\n                                label={info.label}\n                                value={info.value}\n                                handleChange={this.handleInputChange}\n                            />\n                        );\n                    }\n                    )}\n\n                    <FormMessage\n                        message={this.state.formMessage.message}\n                        path={this.props.path}\n                        action={this.state.formMessage.action}\n                        id={this.state.formMessage.alt}\n                    />\n                    <FormButton\n                        nameButton=\"Submit\"\n                        moreClass=\"login-button\"\n                        icon=\"fas fa-sign-in-alt\"\n                        handleButtonClick={this.handleSubmitButtonClick}\n                    />\n                </FormAction>\n\n            </div>\n        )\n    }\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}