{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\src\\\\components\\\\kidProfile\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { FormAction, FormTitle, FormLabel, FormButton, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\nimport gradeLevel from \"../../gradeLevel.json\";\nimport \"./style.css\";\n\nvar KidProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(KidProfile, _Component);\n\n  function KidProfile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, KidProfile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(KidProfile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      sizeDropdownSchool: 1,\n      sizeDropdownGrade: 1,\n      disabled: true,\n      deleteKidInfo: false,\n      kidOriginalInfo: {\n        name: _this.props.name,\n        gradeLevel: _this.props.grade,\n        schoolId: _this.props.school\n      },\n      kidInfo: [{\n        for: \"name\",\n        label: \"Your kid's name\",\n        value: _this.props.name\n      }, {\n        for: \"grade\",\n        label: \"Your kid's grade\",\n        value: _this.props.grade,\n        options: gradeLevel\n      }, {\n        for: \"school\",\n        label: \"Your kid's school\",\n        value: _this.props.school,\n        options: []\n      }],\n      kidId: _this.props.kidId\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n      var key = event.target.getAttribute(\"data-id\");\n\n      var copy = _toConsumableArray(_this.state.kidInfo);\n\n      copy[key].value = value;\n\n      _this.setState({\n        kidInfo: copy,\n        sizeDropdownSchool: 1,\n        sizeDropdownGrade: 1\n      });\n    };\n\n    _this.handleEditButtonClick = function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        disabled: false\n      });\n    };\n\n    _this.handleUpdateButtonClick = function (event) {\n      event.preventDefault();\n      var kidUpdatedData = {\n        name: _this.state.kidInfo[0].value,\n        gradeLevel: _this.state.kidInfo[1].value,\n        schoolId: _this.state.kidInfo[2].value\n      };\n      console.log(\"Kid Details \", kidUpdatedData, \"ID\", _this.state.kidId); // update the kid profile without reloading the page\n\n      API.updateKidForAParent(kidUpdatedData, _this.state.kidId).then(function (res) {\n        // console.log(\"Kid data - upd\", res);\n        _this.setState({\n          kidOriginalInfo: kidUpdatedData,\n          sizeDropdownSchool: 1,\n          sizeDropdownGrade: 1,\n          disabled: true\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleRemoveButtonClick = function (event) {\n      event.preventDefault();\n      console.log(\"Delete KID INFO\");\n      API.deleteKidForAParent(_this.state.kidId).then(function (res) {\n        console.log(\"Kid deleted\");\n\n        _this.setState({\n          deleteKidInfo: true\n        }); // window.location.reload();\n\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleCancelButtonClick = function (event) {\n      event.preventDefault();\n\n      var copyKidInfo = _toConsumableArray(_this.state.kidInfo);\n\n      copyKidInfo[0].value = _this.state.kidOriginalInfo.name;\n      copyKidInfo[1].value = _this.state.kidOriginalInfo.gradeLevel;\n      copyKidInfo[2].value = _this.state.kidOriginalInfo.schoolId;\n\n      _this.setState({\n        kidInfo: copyKidInfo,\n        sizeDropdownSchool: 1,\n        sizeDropdownGrade: 1,\n        disabled: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(KidProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // console.log(\"Grade\", this.props.grade); \n      // console.log(\"Kid ID\", this.props.kidId); \n      API.getAllSchools().then(function (res) {\n        var copy = _toConsumableArray(_this2.state.kidInfo);\n\n        copy[2].options = res.data;\n\n        _this2.setState({\n          kidInfo: copy\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (!this.state.deleteKidInfo) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, this.state.disabled ? React.createElement(FormTitle, {\n          title: \"View \".concat(this.state.kidOriginalInfo.name, \"'s Info\"),\n          moreClass: \"kid-section-title\",\n          icon: \"fas fa-eye\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }) : React.createElement(FormTitle, {\n          title: \"Update \".concat(this.state.kidOriginalInfo.name, \"'s Info\"),\n          moreClass: \"kid-section-title\",\n          icon: \"fas fa-edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }), React.createElement(FormAction, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, this.state.kidInfo.map(function (info, i) {\n          if (info.for === \"name\") {\n            return React.createElement(FormLabel, {\n              key: i,\n              data: i,\n              for: info.for,\n              label: info.label,\n              value: info.value,\n              disabled: _this3.state.disabled,\n              handleChange: _this3.handleInputChange,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 157\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(Dropdown, {\n              key: i,\n              data: i,\n              for: info.for,\n              label: info.label,\n              value: info.value,\n              disabled: _this3.state.disabled,\n              handleChange: _this3.handleInputChange,\n              size: info.for === \"grade\" ? _this3.state.sizeDropdownGrade : _this3.state.sizeDropdownSchool,\n              onfocus: info.for === \"grade\" ? function () {\n                _this3.setState({\n                  sizeDropdownGrade: 5\n                });\n              } : function () {\n                _this3.setState({\n                  sizeDropdownSchool: 5\n                });\n              },\n              onblur: info.for === \"grade\" ? function () {\n                _this3.setState({\n                  sizeDropdownGrade: 1\n                });\n              } : function () {\n                _this3.setState({\n                  sizeDropdownSchool: 1\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 170\n              },\n              __self: this\n            }, info.options.map(function (item, j) {\n              return React.createElement(OptionForDropdown, {\n                option: item.name,\n                value: item.id // selected value={kid.schoolId}\n                ,\n                key: j,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 184\n                },\n                __self: this\n              });\n            }));\n          }\n        }), this.state.disabled ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, React.createElement(FormButton, {\n          nameButton: \"Edit \".concat(this.state.kidOriginalInfo.name, \"'s info\"),\n          handleButtonClick: this.handleEditButtonClick,\n          moreClass: \"edit-kid-btn mr-2 mb-4\",\n          icon: \"far fa-edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199\n          },\n          __self: this\n        }), React.createElement(FormButton, {\n          nameButton: \"Remove \".concat(this.props.name, \"'s info\"),\n          moreClass: \"remove-kid-btn mr-2 mb-4\",\n          icon: \"fas fa-eraser\",\n          handleButtonClick: this.handleRemoveButtonClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        })) : React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(FormButton, {\n          nameButton: \"Update \".concat(this.state.kidOriginalInfo.name, \"'s info\"),\n          moreClass: \"btn-success mr-2 mb-4\",\n          icon: \"far fa-save\",\n          handleButtonClick: this.handleUpdateButtonClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }), React.createElement(FormButton, {\n          nameButton: \"Cancel\",\n          moreClass: \"btn-secondary mr-2 mb-4\",\n          handleButtonClick: this.handleCancelButtonClick,\n          disabled: this.state.disabled,\n          icon: \"fas fa-backspace\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }))));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return KidProfile;\n}(Component);\n\nexport default KidProfile;","map":{"version":3,"sources":["C:\\Users\\kevin\\Desktop\\apparent_test\\heroku\\PROD_APParent_React\\src\\components\\kidProfile\\index.js"],"names":["React","Component","FormAction","FormTitle","FormLabel","FormButton","Dropdown","OptionForDropdown","API","gradeLevel","KidProfile","state","sizeDropdownSchool","sizeDropdownGrade","disabled","deleteKidInfo","kidOriginalInfo","name","props","grade","schoolId","school","kidInfo","for","label","value","options","kidId","handleInputChange","event","target","key","getAttribute","copy","setState","handleEditButtonClick","preventDefault","handleUpdateButtonClick","kidUpdatedData","console","log","updateKidForAParent","then","res","catch","err","handleRemoveButtonClick","deleteKidForAParent","handleCancelButtonClick","copyKidInfo","getAllSchools","data","map","info","i","item","j","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { FormAction, FormTitle, FormLabel, FormButton, Dropdown, OptionForDropdown } from \"../form\";\nimport API from \"../../utils/API\";\nimport gradeLevel from \"../../gradeLevel.json\"; \nimport \"./style.css\";\n\nclass KidProfile extends Component {\n    state = {\n        sizeDropdownSchool: 1,\n        sizeDropdownGrade: 1,\n        disabled: true,\n        deleteKidInfo: false,\n        kidOriginalInfo: \n            {\n                name: this.props.name,\n                gradeLevel: this.props.grade,\n                schoolId: this.props.school\n            },\n        kidInfo:\n            [\n                {\n                    for: \"name\",\n                    label: \"Your kid's name\",\n                    value: this.props.name,\n                },\n                {\n                    for: \"grade\",\n                    label: \"Your kid's grade\",\n                    value: this.props.grade,\n                    options: gradeLevel\n                },\n                {\n                    for: \"school\",\n                    label: \"Your kid's school\",\n                    value: this.props.school,\n                    options: []\n                }\n            ], \n            kidId: this.props.kidId\n    }\n\n    handleInputChange = event => {\n        const value = event.target.value;\n        const key = event.target.getAttribute(\"data-id\")\n        let copy = [...this.state.kidInfo]\n        copy[key].value = value\n        this.setState({\n            kidInfo: copy,\n            sizeDropdownSchool: 1,\n            sizeDropdownGrade: 1\n        })\n    }\n\n    handleEditButtonClick = event => {\n        event.preventDefault();\n        this.setState({\n            disabled: false\n        })\n    }\n\n    // update kid info without reloading the page\n    handleUpdateButtonClick = event => {\n        event.preventDefault()\n\n        const kidUpdatedData = {\n            name: this.state.kidInfo[0].value,\n            gradeLevel: this.state.kidInfo[1].value,\n            schoolId: this.state.kidInfo[2].value\n        }\n\n        console.log(\"Kid Details \", kidUpdatedData, \"ID\", this.state.kidId);\n\n        // update the kid profile without reloading the page\n        API.updateKidForAParent(kidUpdatedData, this.state.kidId)\n            .then(res => {\n                // console.log(\"Kid data - upd\", res);\n                this.setState({\n                    kidOriginalInfo: kidUpdatedData,\n                    sizeDropdownSchool: 1,\n                    sizeDropdownGrade: 1,\n                    disabled: true\n                })\n            })\n            .catch(err => console.log(err));\n    }\n\n    // delete kid info and do not display the form for the kid that has been deleted\n    // without reloading the page\n    handleRemoveButtonClick = event => {\n        event.preventDefault();\n        console.log(\"Delete KID INFO\");\n        API.deleteKidForAParent(this.state.kidId)\n            .then(res => {\n                console.log(\"Kid deleted\");\n                this.setState({\n                    deleteKidInfo: true\n                })\n                // window.location.reload();\n            })\n            .catch(err => console.log(err));\n    }\n\n    // Repopulate the input fields with the previous parent data\n    handleCancelButtonClick = event => {\n        event.preventDefault();\n\n        let copyKidInfo = [...this.state.kidInfo];\n        copyKidInfo[0].value = this.state.kidOriginalInfo.name;\n        copyKidInfo[1].value = this.state.kidOriginalInfo.gradeLevel;\n        copyKidInfo[2].value = this.state.kidOriginalInfo.schoolId;\n\n        this.setState({\n            kidInfo: copyKidInfo,\n            sizeDropdownSchool: 1,\n            sizeDropdownGrade: 1,\n            disabled: true\n        });\n    }\n\n    componentDidMount() {\n        // console.log(\"Grade\", this.props.grade); \n        // console.log(\"Kid ID\", this.props.kidId); \n        API.getAllSchools()\n            .then(\n                res => {\n                    let copy = [...this.state.kidInfo]\n                    copy[2].options = res.data\n                    this.setState({\n                        kidInfo: copy\n                    })\n                }\n            )\n            .catch(err => console.log(err));\n    }\n\n    render() {\n        if (!this.state.deleteKidInfo) {\n            return (\n                <div>\n                    {this.state.disabled ?\n                        <FormTitle\n                            title={`View ${this.state.kidOriginalInfo.name}'s Info`}\n                            moreClass=\"kid-section-title\"\n                            icon=\"fas fa-eye\"\n                        />\n                        :\n                        <FormTitle\n                            title={`Update ${this.state.kidOriginalInfo.name}'s Info`}\n                            moreClass=\"kid-section-title\"\n                            icon=\"fas fa-edit\"\n                        />\n                    }\n                    <FormAction>\n                        {this.state.kidInfo.map((info, i) => {\n                            if (info.for === \"name\") {\n                                return (\n                                    <FormLabel\n                                        key={i}\n                                        data={i}\n                                        for={info.for}\n                                        label={info.label}\n                                        value={info.value}\n                                        disabled={this.state.disabled}\n                                        handleChange={this.handleInputChange}\n                                    />\n                                )\n                            }\n                            else {\n                                return (\n                                    <Dropdown\n                                        key={i}\n                                        data={i}\n                                        for={info.for}\n                                        label={info.label}\n                                        value={info.value}\n                                        disabled={this.state.disabled}\n                                        handleChange={this.handleInputChange}\n                                        size={(info.for === \"grade\") ? this.state.sizeDropdownGrade : this.state.sizeDropdownSchool}\n                                        onfocus={(info.for === \"grade\") ? ()=>{this.setState({sizeDropdownGrade: 5})} : ()=>{this.setState({sizeDropdownSchool: 5})}}\n                                        onblur={(info.for === \"grade\") ? ()=>{this.setState({sizeDropdownGrade: 1})} : ()=>{this.setState({sizeDropdownSchool: 1})}}\n                                    >\n                                        {info.options.map((item, j) => {\n                                            return (\n                                                <OptionForDropdown\n                                                    option={item.name}\n                                                    value={item.id}\n                                                    // selected value={kid.schoolId}\n                                                    key={j}\n                                                />\n                                            )\n                                        })}\n                                    </Dropdown>\n                                )\n                            }\n    \n                        })}\n                        {this.state.disabled ? (\n                            <div>\n                                <FormButton\n                                    nameButton={`Edit ${this.state.kidOriginalInfo.name}'s info`}\n                                    handleButtonClick={this.handleEditButtonClick}\n                                    moreClass=\"edit-kid-btn mr-2 mb-4\"\n                                    icon=\"far fa-edit\"\n                                />\n                                <FormButton\n                                    nameButton={`Remove ${this.props.name}'s info`}\n                                    moreClass=\"remove-kid-btn mr-2 mb-4\"\n                                    icon=\"fas fa-eraser\"\n                                    handleButtonClick={this.handleRemoveButtonClick}\n                                />\n                            </div>\n                        ) : (\n                            <div>\n                                <FormButton\n                                    nameButton={`Update ${this.state.kidOriginalInfo.name}'s info`}\n                                    moreClass=\"btn-success mr-2 mb-4\"\n                                    icon=\"far fa-save\"\n                                    handleButtonClick={this.handleUpdateButtonClick}\n                                />\n                                <FormButton\n                                    nameButton=\"Cancel\"\n                                    moreClass=\"btn-secondary mr-2 mb-4\"\n                                    handleButtonClick={this.handleCancelButtonClick}\n                                    disabled={this.state.disabled}\n                                    icon=\"fas fa-backspace\"\n                                />\n                            </div>\n                        )}\n                    </FormAction>\n                </div>\n            )\n\n        } else {\n            return (\n                <div></div>\n            )\n        }\n        \n    }\n}\n\nexport default KidProfile;"]},"metadata":{},"sourceType":"module"}