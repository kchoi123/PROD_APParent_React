{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Desktop\\\\apparent_test\\\\heroku\\\\PROD_APParent_React\\\\src\\\\components\\\\postCard\\\\index.js\";\n// make component a statefull component\nimport React, { Component, useState } from \"react\";\nimport { CommentSubmitButton, CommentDisplay } from \"../form\";\nimport moment from \"moment\";\nimport API from \"../../utils/API\";\nimport Linkify from 'react-linkify';\nimport AnimatedPicture from \"../Picture-Post\";\nimport \"./style.css\"; // make a api call to get all comment posts\n\nvar PostCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostCard, _Component);\n\n  function PostCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PostCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PostCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      nameButton: \"Comment\",\n      description: \"\",\n      timeStamp: \"\",\n      comments: []\n    };\n\n    _this.getComments = function () {\n      var requestParams = {\n        id: _this.props.postId\n      };\n      API.findAllForPost(requestParams).then(function (res) {\n        _this.setState({\n          comments: res.data\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.handleInputChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleCommentClick = function (event) {\n      event.preventDefault();\n\n      _this.getComments();\n    };\n\n    _this.handleFormSubmit = function (event) {\n      event.preventDefault();\n      console.log(\"Description: \".concat(_this.state.description)); // need to post to MySQL here\n\n      var commentData = {\n        description: _this.state.description,\n        postId: _this.props.postId\n      };\n      API.createComment(commentData).then(function (res) {\n        console.log(\"show res \", res);\n\n        _this.getComments();\n      }).catch(function (err) {\n        return console.log(err);\n      });\n\n      _this.setState({\n        description: \"\"\n      });\n    };\n\n    _this.renderComments = function () {\n      var comments = _this.state.comments; // const { members } = this.props;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, comments.map(function (comment) {\n        // if (comments && members) {\n        // const parent = members.find((member) => member.id === comment.parentId);\n        // const parentUsername = parent && parent.userName;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(CommentDisplay, {\n          for: \"displayComment\",\n          posterName: comment.parent.userName,\n          comment: comment.description,\n          updatedAt: moment(comment.updatedAt).fromNow(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }), React.createElement(\"hr\", {\n          className: \"comment-separator\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        })); // }\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(PostCard, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"post-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body post-content text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrapper-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"rounded-circle profile-icon mx-2\",\n        src: this.props.userPhoto,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"sub-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        className: \"author\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, this.props.name), \" posted\"), React.createElement(\"p\", {\n        className: \"last-updated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, moment(this.props.updatedAt).fromNow()))), React.createElement(\"span\", {\n        className: \"category my-auto card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Category:\"), \" \", this.props.category), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"card-title mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, this.props.title), React.createElement(AnimatedPicture, {\n        postPhoto: this.props.postPhoto,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(Linkify, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"card-text mx-auto text-justify\",\n        id: \"postCardDetails\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"u\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Details:\"), \" \"), this.props.description))), React.createElement(\"div\", {\n        className: \"comment-btn-div mx-auto text-center mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-lg open-comment font-weight-bold\",\n        id: \"comment\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#post\" + this.props.postId,\n        onClick: this.handleCommentClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"far fa-comment-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), \" Comments\")))))), React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"post\" + this.props.postId,\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalLongTitle\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog modal-dialog-scrollable\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        id: \"modalTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, this.props.title), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, this.renderComments(), React.createElement(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        for: \"comment\",\n        type: \"text\",\n        className: \"text-area-comment\",\n        placeholder: \"Type your comment here!\",\n        name: \"description\",\n        rows: \"3\",\n        value: this.state.description,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(CommentSubmitButton, {\n        handleButtonClick: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return PostCard;\n}(Component);\n\nexport default PostCard;","map":{"version":3,"sources":["C:\\Users\\kevin\\Desktop\\apparent_test\\heroku\\PROD_APParent_React\\src\\components\\postCard\\index.js"],"names":["React","Component","useState","CommentSubmitButton","CommentDisplay","moment","API","Linkify","AnimatedPicture","PostCard","state","nameButton","description","timeStamp","comments","getComments","requestParams","id","props","postId","findAllForPost","then","res","setState","data","catch","err","console","log","handleInputChange","event","target","name","value","handleCommentClick","preventDefault","handleFormSubmit","commentData","createComment","renderComments","map","comment","parent","userName","updatedAt","fromNow","userPhoto","category","title","postPhoto"],"mappings":"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","sourcesContent":["// make component a statefull component\nimport React, { Component, useState } from \"react\";\nimport { CommentSubmitButton, CommentDisplay } from \"../form\";\nimport moment from \"moment\"\nimport API from \"../../utils/API\";\nimport Linkify from 'react-linkify';\nimport AnimatedPicture from \"../Picture-Post\";\n\nimport \"./style.css\";\n\n// make a api call to get all comment posts\n\nclass PostCard extends Component {\n  // make a state for the values in this component\n  state = {\n    nameButton: \"Comment\",\n    description: \"\",\n    timeStamp: \"\",\n    comments: [],\n  };\n\n  getComments = () => {\n    const requestParams = {\n      id: this.props.postId,\n    }\n\n    API.findAllForPost(requestParams)\n      .then(\n        res => {\n          this.setState({\n            comments: res.data\n          })\n\n        }\n      )\n      .catch(err => console.log(err));\n  }\n  // componentDidMount() {\n  //   this.getComments();\n  // }\n\n  // write letters on the posting field while typed\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleCommentClick = event => {\n    event.preventDefault();\n    this.getComments()\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    console.log(`Description: ${this.state.description}`);\n    // need to post to MySQL here\n\n    const commentData = {\n      description: this.state.description,\n      postId: this.props.postId\n    }\n\n    API.createComment(commentData)\n      .then(res => {\n        console.log(\"show res \", res)\n        this.getComments();\n      })\n      .catch(err => console.log(err));\n    this.setState({ description: \"\" });\n  };\n\n  renderComments = () => {\n    const { comments } = this.state;\n    // const { members } = this.props;\n    return (<div>\n      {comments.map((comment) => {\n        // if (comments && members) {\n        // const parent = members.find((member) => member.id === comment.parentId);\n        // const parentUsername = parent && parent.userName;\n        return (<div><CommentDisplay for=\"displayComment\" posterName={comment.parent.userName} comment={comment.description} updatedAt={moment(comment.updatedAt).fromNow()} /><hr className=\"comment-separator\"/></div>)\n        // }\n      })}\n    </div>)\n  }\n\n  render() {\n    return (\n      <div className=\"post-container\">\n        <div className=\"card mb-3\">\n          <div className=\"row no-gutters\">\n            <div className=\"col\">\n              <div className=\"card-body post-content text-left\">\n                <div className=\"wrapper-div\">\n                  <img className=\"rounded-circle profile-icon mx-2\" src={this.props.userPhoto} />\n                  <div className=\"sub-div\">\n                    <p><b className=\"author\">{this.props.name}</b> posted</p>\n                    <p className=\"last-updated\">{moment(this.props.updatedAt).fromNow()}</p>\n                  </div>\n                </div>\n                <span className=\"category my-auto card-text\">\n                  <b>Category:</b> {this.props.category}\n                </span>\n                <hr />\n                <div className=\"mx-auto\">\n                  <p className=\"card-title mx-auto\">{this.props.title}</p>\n                  <AnimatedPicture\n                    postPhoto={this.props.postPhoto}\n                  />\n                  <Linkify>\n                    <p className=\"card-text mx-auto text-justify\" id=\"postCardDetails\">\n                      <b><u>Details:</u> </b>{this.props.description}\n                    </p>\n                  </Linkify>\n                </div>\n\n                <div className=\"comment-btn-div mx-auto text-center mt-4\">\n                  <button\n                    className=\"btn btn-lg open-comment font-weight-bold\"\n                    id=\"comment\"\n                    data-toggle=\"modal\"\n                    data-target={\"#post\" + this.props.postId}\n                    onClick={this.handleCommentClick}\n                  >\n                    <i className=\"far fa-comment-alt\"></i> Comments\n                  </button>\n                </div>\n\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        {/* modal */}\n        <div\n          className=\"modal fade\"\n          id={\"post\" + this.props.postId}\n          tabindex=\"-1\"\n          role=\"dialog\"\n          aria-labelledby=\"exampleModalLongTitle\"\n          aria-hidden=\"true\"\n        >\n          <div className=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n            <div className=\"modal-content\">\n              <div className=\"modal-header\" id=\"modalTitle\">\n                <b>{this.props.title}</b>\n                <button\n                  type=\"button\"\n                  className=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                >\n                  <span aria-hidden=\"true\">&times;</span>\n                </button>\n              </div>\n              <div className=\"modal-body\">\n                {this.renderComments()}\n                <form onSubmit={this.handleFormSubmit}>\n                  {/* <p><b>Your Comment:</b> {this.state.description}</p> */}\n\n                  <textarea\n                    for=\"comment\"\n                    type=\"text\"\n                    className=\"text-area-comment\"\n                    placeholder=\"Type your comment here!\"\n                    name=\"description\"\n                    rows=\"3\"\n                    value={this.state.description}\n                    onChange={this.handleInputChange}\n                  />\n                  {/* <button onClick={this.handleFormSubmit}>Submit</button> */}\n                </form>\n                <CommentSubmitButton handleButtonClick={this.handleFormSubmit} />\n                {/* need a button to post */}\n                {/* create a handle click for the button - that will post to MySQL */}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PostCard;\n"]},"metadata":{},"sourceType":"module"}